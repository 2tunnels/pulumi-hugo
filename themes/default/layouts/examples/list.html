{{ define "hero" }}
    {{ partial "hero" (dict "title" "Pulumi Examples") }}
{{ end }}

{{ define "main" }}
    <div class="layout-{{ .Page.Layout }} container mx-auto mb-32 px-4 lg:px-0">
        <div class="max-w-3xl mx-auto text-lg">
            <span class="text-gray-800">
                <p>
                    {{ .Description }}
                </p>
            </span>
        </div>
        <section class="mt-8">
            {{ $pages := where .Site.Pages ".Type" "examples" }}


            <ul class="w-full flex flex-col md:flex-row md:flex-wrap md:justify-center p-0 list-none">
                {{ range $page := sort $pages ".Params.weight" "asc" }}
                    <li class="md:w-1/2 lg:w-1/3 m-4">
                        <article class="shadow-xl rounded-xl bg-white py-4 px-6 w-full h-full border border-gray-200">
                            {{ with $page }}
                                {{ if .Params.metadata.lastUpdate }}
                                    <div class="inline-flex px-3 py-1 bg-green-800 text-white rounded-full text-xs">Verified</div>
                                {{ end }}

                                {{ if .Params.meta_image }}
                                    <a href="{{ $page.RelPermalink }}" title="{{ .Title }}">
                                        <img class="rounded" src="{{ (.Resources.GetMatch .Params.meta_image).RelPermalink }}" alt="{{ .Title }}" />
                                    </a>
                                {{ end }}
                                <p class="mt-4 leading-none">
                                    <span class="text-lg">
                                        <a class="text-gray-900" href="{{ $page.RelPermalink }}">{{ .Title }}</a>
                                    </span>
                                </p>
                                <p>
                                    {{ .Params.summary }}
                                </p>
                            {{ end }}
                        </article>
                    </li>
                {{ end }}
            </ul>
        </section>
    </div>
{{ end }}
